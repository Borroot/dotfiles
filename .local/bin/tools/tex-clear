#!/usr/bin/env bash
# AUTHOR: Bram Pulles

# This program is run with in $1 a tex file.
# It will remove all of the build files from that directory.
if [[ -z $1 ]] || [[ ! $1 =~ .tex$ ]]
then
	>&2 echo "Please provide a tex file."
	exit 1
fi

readonly FILE=$(readlink -f "$1")
readonly DIR=$(dirname "$FILE")
readonly BASE=${FILE%.*}

# Find and remove all of the files.
rm -rf _minted-*
find "$DIR" -maxdepth 1 -type f -regextype 'egrep' -regex "^$BASE\\.(aux|log|toc)" -delete
