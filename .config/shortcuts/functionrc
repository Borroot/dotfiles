# vim: filetype=zsh

# Search for a file/folder and open it.
ser ()
{
	answer=$(find ${1:-.} -regextype 'egrep' -not -regex '.*/\.[[:alnum:]].*' \
	       | dmenu -l 20 -p 'File/Folder' -i) || return 1

	if [[ -d "$answer" ]]
	then
		cd "$answer"
		ls
	else
		cd "$(dirname "$answer")"
		file="$(basename "$answer")"

		case "$answer" in
			*.jpg|*.JPG|*.png|*.jpeg )
				$VIEWER "$file" &! ;;
			*.pdf )
				$READER "$file" &! ;;
			* )
				$EDITOR "$file"    ;;
		esac
	fi
}
