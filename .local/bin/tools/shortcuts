#!/usr/bin/env bash
# AUTHOR: Bram Pulles

readonly DIR="$HOME/.config/shortcuts"

# Input location(s).
readonly BMDIRS="$DIR/bmdirs"
readonly BMFILES="$DIR/bmfiles"

# Output location(s).
readonly SHELL_SHORTCUTS="$DIR/shortcutrc"

# Prepare file(s).
printf "# vim: filetype=zsh\n# This file has been automatically generated by $0.\n# Date of creation $(date).\\nalias \\\\\n" > "$SHELL_SHORTCUTS"

# Format the `bmdirs` file in the correct syntax and sent it to config(s).
sed "s/\s*#.*$//;/^\s*$/d" "$BMDIRS" | tee >(xargs printf '\t%s="cd %s && eval ls" \\\n' >> "$SHELL_SHORTCUTS")

# Format the `bmfiles` file in the correct syntax and sent it to config(s).
sed "s/\s*#.*$//;/^\s*$/d" "$BMFILES" | tee >(xargs printf '\t%s="$EDITOR %s\" \\\n' >> "$SHELL_SHORTCUTS")
