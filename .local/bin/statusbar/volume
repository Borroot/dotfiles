#!/usr/bin/env bash
# AUTHOR: Bram Pulles

# Print volume information nicely formatted.
if [[ $(amixer get Master | grep 'Right:') != "" ]]
then
	readonly OUTPUT=$(amixer get Master | grep 'Right:')
else
	readonly OUTPUT=$(amixer get Master | grep 'Mono:')
fi

readonly SOUND=$(echo "$OUTPUT" | awk -F '[][]' '{ print $4 }')
readonly PERCENTAGE=$(echo "$OUTPUT" | awk -F '[][]' '{ print substr($2, 1, length($2) - 1) }')

if [[ $SOUND == off ]]
then
	echo " MUTE"
elif (( $PERCENTAGE == 0 ))
then
	echo " $PERCENTAGE%"
elif (( $PERCENTAGE < 50 ))
then
	echo " $PERCENTAGE%"
else
	echo " $PERCENTAGE%"
fi
