#!/usr/bin/env bash
# AUTHOR: Bram Pulles

readonly DIR="$HOME/.config/shortcuts"

# Input location(s).
readonly DIRS="$DIR/dirsrc"
readonly FILES="$DIR/filesrc"

# Output location(s).
readonly SHELL_SHORTCUTS="$DIR/shortcutrc"

# Prepare file(s).
printf "# vim: filetype=zsh\n# This file has been automatically generated by $0.\n# Date of creation $(date).\\nalias \\\\\n" > "$SHELL_SHORTCUTS"

# Format the `dirsrc` file in the correct syntax and sent it to config(s).
sed "s/\s*#.*$//;/^\s*$/d" "$DIRS" | tee >(xargs printf '\t%s="cd %s && ls --color=auto" \\\n' >> "$SHELL_SHORTCUTS")

# Format the `filesrc` file in the correct syntax and sent it to config(s).
sed "s/\s*#.*$//;/^\s*$/d" "$FILES" | tee >(xargs printf '\t%s="$EDITOR %s\" \\\n' >> "$SHELL_SHORTCUTS")
