#!/usr/bin/env bash

# Top location.
path="$HOME/.config/shortcuts"

# Input location(s).
bmdirs="$path/bmdirs"
bmfiles="$path/bmfiles"

# Output location(s). 
shell_shortcuts="$path/shortcutrc"

# Prepare file(s).
printf "# vim: filetype=zsh\n# This file has been automatically generated by $0\n# Date of creation $(date).\\nalias " > "$shell_shortcuts"

# Format the `bmdirs` file in the correct syntax and sent it to config(s).
sed "s/\s*#.*$//;/^\s*$/d" "$bmdirs" | tee >(awk '{print $1"=\"cd "$2" && ls --color=always\" \\"}' >> "$shell_shortcuts")

# Format the `bmfiles` file in the correct syntax and sent it to config(s).
sed "s/\s*#.*$//;/^\s*$/d" "$bmfiles" | tee >(awk '{print $1"=\"$EDITOR "$2"\" \\"}' >> "$shell_shortcuts")
