#!/usr/bin/env bash

DIR="$HOME/.config/shortcuts"

# Input location(s).
bmdirs="$DIR/bmdirs"
bmfiles="$DIR/bmfiles"

# Output location(s). 
shell_shortcuts="$DIR/shortcutrc"

# Prepare file(s).
printf "# vim: filetype=zsh\n# This file has been automatically generated by $0.\n# Date of creation $(date).\\nalias \\\\\n" > "$shell_shortcuts"

# Format the `bmdirs` file in the correct syntax and sent it to config(s).
sed "s/\s*#.*$//;/^\s*$/d" "$bmdirs" | tee >(xargs printf '\t%s="cd %s && eval ls" \\\n' >> "$shell_shortcuts")

# Format the `bmfiles` file in the correct syntax and sent it to config(s).
sed "s/\s*#.*$//;/^\s*$/d" "$bmfiles" | tee >(xargs printf '\t%s="$EDITOR %s\" \\\n' >> "$shell_shortcuts")
